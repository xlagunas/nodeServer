<html>
	<head>
		<title>Test socket.io</title>
        <style>
            .msgType{
                color: red;
            }
            .msgContent{
                height: 50px;
            }
        </style>
	</head>
	<body>
        <input class="msgType" type="text" name="msg_type">
        <input class="msgContent" type="text" name="content">
        <input type="submit" onclick="sendMsg()">
	</body>
	<script src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
        var msgType = document.getElementsByTagName("input")[0];
        var content = document.getElementsByTagName("input")[1];

        console.log(msgType);
        console.log(content);
        function sendMsg() {
            var dataToSend = JSON.stringify(content.value);
            console.log(dataToSend);
            socket.emit(msgType.value, dataToSend, null);
            return false;
        }
		var socket = io.connect();
			socket.on("hello", function(data){
                console.log("I receive a hello message " +data);
			});
            socket.emit("user:login", {username: 'xlagunas'}, function(data){
                console.log(data);
            });

	</script>
</html>